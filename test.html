<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supported Currencies</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .currency {
            background-color: #fff;
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .currency img {
            width: 30px;
            height: 30px;
        }
        .currency strong {
            font-size: 18px;
        }
    </style>
</head>
<body>

    <h1>Supported Currencies</h1>
    <div id="currencies-list"></div>

    <script>
        // Your API key and API secret
        const apiKey = "l9zXjAOHF1Kq6TBZaNKBiD52ALX9Uhmo56qYrDBo";
        const apiSecret = "G0JdfTNxGCK4vG68eYCOyrEKiCIusKO6wcdhO6Tn";

        // Function to generate the HMAC SHA256 signature
        function generateSign(secret) {
            const crypto = window.crypto || window.msCrypto; // For IE
            const encoder = new TextEncoder();
            const data = encoder.encode(''); // Empty string for no parameters
            return crypto.subtle.importKey(
                'raw',
                encoder.encode(secret),
                { name: 'HMAC', hash: { name: 'SHA-256' } },
                false,
                ['sign']
            )
            .then(key => crypto.subtle.sign('HMAC', key, data))
            .then(signature => {
                let hexString = '';
                new Uint8Array(signature).forEach(byte => {
                    hexString += ('00' + byte.toString(16)).slice(-2);
                });
                return hexString;
            });
        }

        // Fetch and display supported currencies
        function fetchCurrencies() {
            generateSign(apiSecret).then(signature => {
                fetch("https://ff.io/api/v2/ccies", {
                    method: "POST",
                    headers: {
                        "Accept": "application/json",
                        "X-API-KEY": apiKey,
                        "X-API-SIGN": signature,
                        "Content-Type": "application/json; charset=UTF-8"
                    },
                })
                .then(response => response.json())
                .then(data => {
                    if (data.code === 0) {
                        const currencies = data.data;
                        const currenciesList = document.getElementById("currencies-list");
                        currencies.forEach(currency => {
                            let currencyDiv = document.createElement('div');
                            currencyDiv.classList.add('currency');
                            currencyDiv.innerHTML = `
                                <strong>${currency.name} (${currency.coin})</strong><br>
                                <img src="${currency.logo}" alt="${currency.name}" /><br>
                                <strong>Network:</strong> ${currency.network}
                            `;
                            currenciesList.appendChild(currencyDiv);
                        });
                    } else {
                        console.error('Error:', data.msg);
                    }
                })
                .catch(error => console.error('Request failed', error));
            });
        }

        // Load currencies on page load
        window.onload = function() {
            fetchCurrencies();
        };
    </script>
</body>
</html>
